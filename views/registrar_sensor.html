{% extends "base.html" %}

{% block title %}
<title>Cadastrar Sensor - Sistema IoT</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/registrar_sensor.css') }}" />
{% endblock %}

{% block content %}
<div class="sensor-register-page">
    <div class="sensor-card">
        <div class="sensor-card-header">
            <h4> Cadastrar Novo Sensor</h4>
        </div>

        <div class="sensor-card-body">
            <form action="{{ url_for('sensor_.adicionar_sensor') }}" method="POST" class="sensor-form">
                
                <div class="form-row">
                    <div class="form-group">
                        <label> Nome do Sensor</label>
                        <input type="text" id="name" name="name" placeholder="Ex: Sensor de Temperatura" required>
                    </div>

                    <div class="form-group">
                        <label> Marca</label>
                        <input type="text" id="brand" name="brand" placeholder="Ex: DHT22" required>
                    </div>
                </div>

                
                <div class="form-row">
                    <div class="form-group">
                        <label> Modelo</label>
                        <input type="text" id="model" name="model" placeholder="Ex: DHT22-001" required>
                    </div>

                    <div class="form-group">
                        <label> Unidade de Medida</label>
                        <select id="unit" name="unit" required>
                            <option value="">Selecione a unidade</option>
                            <option value="°C">°C (Temperatura)</option>
                            <option value="°F">°F (Temperatura)</option>
                            <option value="%">% (Umidade)</option>
                            <option value="lux">lux (Luminosidade)</option>
                            <option value="ppm">ppm (CO₂)</option>
                            <option value="V">V (Voltagem)</option>
                            <option value="A">A (Corrente)</option>
                            <option value="outro">Outro</option>
                        </select>
                    </div>
                </div>

                
                <div class="form-group">
                    <label> Tópico MQTT</label>
                    <input type="text" id="topic" name="topic" placeholder="Ex: sensors/temperature/room1" required>
                    <small>Tópico onde o sensor publicará os dados via MQTT.</small>
                </div>

                
                <div class="form-checkbox">
                    <input type="checkbox" id="is_active" name="is_active" checked>
                    <label> Sensor Ativo</label>
                </div>
                <small>Desmarque se o sensor estiver temporariamente fora de operação.</small>

                
                <div class="form-actions">
                    <button type="submit" class="btn-primary"> Cadastrar Sensor </button>
                    <a href="{{ url_for('sensores') }}" class="btn-secondary"> Voltar </a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}


